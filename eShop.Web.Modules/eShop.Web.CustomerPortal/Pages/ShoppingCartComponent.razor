@page "/cart"

@inject IViewShoppingCartUseCase viewShoppingCartUseCase

<h3>Shopping Cart</h3>
<div class="row">
    <div class="col-6">
        <ul>
            @for (int i = 0; i < order.LineItems.Count; i++)
            {
                <LineItemComponent LineItems="order.LineItems[i]"></LineItemComponent>
                @if (i < order.LineItems.Count - 1)
                {
                    <li style="list-style:none;">
                        <hr />
                    </li>
                }
            }
        </ul>
    </div>
    <div class="col">
        @*order summary*@
    </div>
</div>

@code {

    private Order order;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            order = await viewShoppingCartUseCase.Execute();
            StateHasChanged();
        }
    }

}
